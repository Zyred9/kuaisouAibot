# 业务接口文档

> 模块：search_bot 后台管理接口
> 说明：本文梳理 `com.search.robots.database.controller` 包下所有除 `AdminController` 以外的接口。
> 所有接口统一返回包装类型 `Result<T>`，其中 `code`/`msg`/`data` 结构以系统约定为准。

---

## 一、地址管理接口（`AddressController`）

- 基础路径：`/address`

### 1. 分页查询地址
- 请求方法：GET
- 请求路径：`/address/page`
- 接口描述：TRC20 地址分页查询，支持按地址精准搜索。
- 请求参数：
  - `current`（query，Integer，可选，默认值：1）：当前页码。
  - `size`（query，Integer，可选，默认值：10）：每页条数。
  - `address`（query，String，可选）：TRC20 地址，精准匹配。
- 响应数据：`Result<Page<Address>>`

### 2. Excel 批量导入地址
- 请求方法：POST
- 请求路径：`/address/import`
- 接口描述：从 Excel 批量导入 TRC20 地址，支持单列 `address` 格式。
- 请求参数：
  - `file`（form-data，MultipartFile，必填）：Excel 文件，需包含单列表头 `address`。
- 响应数据：`Result<Integer>`，成功导入的地址数量。

---

## 二、广告用户管理接口（`AdvUserController`）

- 基础路径：`/adv_user`

### 1. 分页查询广告用户
- 请求方法：GET
- 请求路径：`/adv_user/page`
- 接口描述：分页查询广告用户，支持按用户名与关键词模糊搜索。
- 请求参数：
  - `current`（query，Integer，可选，默认值：1）：当前页码。
  - `size`（query，Integer，可选，默认值：10）：每页条数。
  - `username`（query，String，可选）：用户名，模糊匹配。
  - `keyword`（query，String，可选）：投放关键词，模糊匹配。
- 响应数据：`Result<Page<AdvUser>>`

### 2. 审批广告用户
- 请求方法：POST
- 请求路径：`/adv_user/audit`
- 接口描述：后台审批广告用户的广告信息。
- 请求体：
  - Body（application/json，必填）：`AdvUserAudit` 对象，包含广告审批相关字段（用户、广告信息、审核状态等）。
- 响应数据：`Result<Void>`，成功时无业务数据。

---

## 三、系统配置管理接口（`ConfigController`）

- 基础路径：`/config`

### 1. 查询当前配置
- 请求方法：GET
- 请求路径：`/config/self`
- 接口描述：查询当前系统的配置。
- 请求参数：无
- 响应数据：`Result<Config>`

### 2. 更新配置
- 请求方法：POST
- 请求路径：`/config/update`
- 接口描述：更新系统配置。
- 请求体：
  - Body（application/json，必填）：`Config` 对象，包含要更新的配置信息。
- 响应数据：`Result<Void>`，成功时无业务数据。

---

## 四、收录管理接口（`IncludedController`）

- 基础路径：`/included`

### 1. 收录分页查询
- 请求方法：GET
- 请求路径：`/included/included_page`
- 接口描述：根据索引用户查询收录记录的分页结果。
- 请求参数：
  - `size`（query，int，必填）：每页条数。
  - `current`（query，int，必填）：当前页码。
  - `indexUsername`（query，String，必填）：索引用户名。
- 响应数据：`Result<Page<Included>>`

### 2. 收录审核
- 请求方法：POST
- 请求路径：`/included/included_audit`
- 接口描述：后台审核收录记录。
- 请求体：
  - Body（application/json，必填）：`IncludedAudit` 对象，包含审核结果等信息。
- 响应数据：`Result<Void>`

---

## 五、关键词管理接口（`KeywordController`）

- 基础路径：`/keyword`

### 1. 关键词分页查询
- 请求方法：GET
- 请求路径：`/keyword/page`
- 接口描述：分页查询关键词，支持按关键词模糊搜索。
- 请求参数：
  - `current`（query，Integer，可选，默认值：1）：当前页码。
  - `size`（query，Integer，可选，默认值：10）：每页条数。
  - `keyword`（query，String，可选）：关键词，模糊匹配。
- 响应数据：`Result<Page<Keyword>>`

### 2. 新增关键词
- 请求方法：POST
- 请求路径：`/keyword/add`
- 接口描述：新增关键词记录，支持设置启用状态。
- 请求体：
  - Body（application/json，必填）：`Keyword` 对象。
- 业务说明：
  - 当 `status` 为空时，后端默认保存为禁用状态。
  - 当 `status` 为 `true` 时，保存后会自动调用内部方法更新该关键词的启用状态。
- 响应数据：`Result<Void>`

### 3. 更新关键词状态
- 请求方法：PUT
- 请求路径：`/keyword/status/{id}`
- 接口描述：按 ID 更新关键词启用状态。
- 路径参数：
  - `id`（path，Long，必填）：关键词 ID。
- 请求参数：
  - `status`（query，Boolean，必填）：启用状态，`true` 为启用、`false` 为禁用。
- 响应数据：`Result<Void>`

---

## 六、提现管理接口（`WithdrawalsController`）

- 基础路径：`/withdrawals`

### 1. 提现记录分页查询
- 请求方法：GET
- 请求路径：`/withdrawals/page`
- 接口描述：分页查询用户提现记录，支持按用户名过滤。
- 请求参数：
  - `current`（query，Integer，可选，默认值：1）：当前页码。
  - `size`（query，Integer，可选，默认值：10）：每页条数。
  - `username`（query，String，可选）：用户名，作为筛选条件。
- 响应数据：`Result<Page<Withdrawals>>`

### 2. 提现审核
- 请求方法：POST
- 请求路径：`/withdrawals/audit`
- 接口描述：后台审批用户提现申请。
- 请求体：
  - Body（application/json，必填）：`WithdrawalsAudit` 对象，包含提现审批相关字段。
- 响应数据：`Result<Boolean>`，`data` 表示本次审批是否成功。
